<div class="container">
    <header class="header-popup">
        <div class="nav-left">
            <button class="btn-icon">Trang chủ</button>
            <button class="btn-icon">Thư viện</button>
            <button class="btn-icon">Lịch sử</button>
        </div>
        <div class="header-center">
            <h1>OTTN181</h1>
            <span>v1</span>
        </div>
        <div class="author-right">
            <button class="btn-icon">⚙️</button>
            tác giả Huy ★
        </div>
    </header>

    <main class="control-square">
        <div class="panel-title-box">BẢNG ĐIỀU CHỈNH</div>
        
        <div class="sub-box mode-selector">
            <label>CHẾ ĐỘ LÀM BÀI</label>
            <div class="dropdown-custom" id="modeDropdown">
                <div class="dropdown-selected"><span>Chế độ theo nội dung</span> ▾</div>
                <div class="dropdown-list">
                    <div class="item" data-mode="normal">Chế độ theo nội dung</div>
                    <div class="item" data-mode="expand">Chế độ mở rộng</div>
                    <div class="item" data-mode="hard">Chế độ khó</div>
                    <div class="item" data-mode="request">Theo yêu cầu & nhập nội dung</div>
                </div>
            </div>
            <div id="ai-request-box" style="display:none; margin-top:10px;">
                <textarea placeholder="Nhập yêu cầu tạo đề (VD: Tạo bài về lịch sử...)"></textarea>
            </div>
        </div>

        <div class="sub-box">
            <label>Nguồn dữ liệu</label>
            <input type="file" id="fileInput" accept=".txt">
            <textarea placeholder="Hoặc dán nội dung thủ công tại đây..."></textarea>
        </div>

        <div class="sub-box grid-2">
            <div><label>Số câu hỏi</label><input type="number" id="numQ" value="10"></div>
            <div><label>Thời gian (phút)</label><input type="number" id="fullTime" value="15"></div>
        </div>

        <div class="sub-box flex-wrap">
            <label><input type="checkbox" id="shuffleQ"> Xáo trộn câu</label>
            <label><input type="checkbox" id="shuffleA"> Xáo trộn đáp án</label>
            <input type="password" id="quizPass" placeholder="Đặt mật khẩu (nếu cần)">
        </div>

        <div class="action-group">
            <button onclick="handleStart()" class="btn-start">BẮT ĐẦU LÀM BÀI</button>
            <button class="btn-reset">Làm mới</button>
            <button class="btn-share">Chia sẻ mã</button>
        </div>
    </main>

    <section class="leaderboard-popup">
        <div class="leaderboard-header">BẢNG XẾP HẠNG</div>
        <div id="leaderboardList">
            </div>
    </section>

    <footer class="footer-mini">
        <span>OTTN181</span>
        <span>v1</span>
        <span>tác giả Huy ★</span>
    </footer>
</div>

<div id="loadingPopup" class="overlay-loading" style="display:none;">
    <div class="popup-box">
        <div class="loader"></div>
        <p id="loadingText">Đang tạo bài...</p>
        <small>Vui lòng đợi 5-10s</small>
    </div>
</div>
